(this["webpackJsonpblog-page"]=this["webpackJsonpblog-page"]||[]).push([[0],{128:function(e,t,n){},129:function(e,t,n){},146:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(35),c=n.n(r),o=(n(128),n(129),n(14)),l=n(63),s=n.n(l),d=n(89),j=n(37),u=(n(131),n(148),n(133),n(59)),h=(n(136),function(e){u.b.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}),b=function(e){u.b.error(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},x={};j.a.initializeApp(x);var O=j.a,m=function(){var e=Object(d.a)(s.a.mark((function e(t,n,a){var i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.auth().createUserWithEmailAndPassword(t,n).then((function(e){})).catch((function(e){}));case 3:return i=j.a.auth().currentUser,e.next=6,i.updateProfile({displayName:a});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n.length<6?b("Please enter password minimum 6 letter"):b("There exists an account with this email. Please login with your password or continue with Google!");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,a){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.a.auth().onAuthStateChanged((function(e){t(e||null)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=n(2),v=Object(a.createContext)();var f=function(e){var t=Object(a.useState)(),n=Object(o.a)(t,2),i=n[0],r=n[1];return Object(a.useEffect)((function(){g(r)}),[]),Object(p.jsx)(v.Provider,{value:{currentUser:i},children:e.children})},w=n(47),y=n(22),C=n(19),S=n(213),k=n(212),L=n(214),D=n(216),W=n(215),P=n(107),A=n.n(P),U=n(207),T=n(110),N=n(210),B=n(209),F=n(201);function E(){var e=a.useState(null),t=Object(o.a)(e,2),n=t[0],i=t[1],r=function(){i(null)},c=Object(C.f)(),l=a.useContext(v).currentUser;return Object(p.jsx)(k.a,{sx:{flexGrow:1},children:Object(p.jsx)(S.a,{position:"static",children:Object(p.jsxs)(L.a,{children:[Object(p.jsx)(W.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(p.jsx)(y.b,{to:"/",style:{textDecoration:"none",color:"inherit"},children:Object(p.jsx)(N.a,{alt:"clrswy",src:"https://lms.clarusway.com/pluginfile.php/1/core_admin/logocompact/300x300/1628491244/clarusway_LOGO_tek_png.png"})})}),Object(p.jsx)(D.a,{variant:"h6",component:"div",sx:{flexGrow:1,underline:"none"},textAlign:"center",children:Object(p.jsx)(F.a,{direction:"row",spacing:1,justifyContent:"center",children:Object(p.jsx)(B.a,{label:"-----<Serhat/> Blog -----",href:"https://github.com/serhatkoyuncu/react-blog-page",variant:"outlined",component:"a",clickable:!0,target:"_blank",size:"medium",sx:{borderColor:"primary.main",color:"white",fontSize:25,"&:hover":{opacity:1}}})})}),Object(p.jsx)(W.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},color:"inherit",children:Object(p.jsx)(A.a,{})}),Object(p.jsx)(T.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(n),onClose:r,children:l?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(U.a,{onClick:r,children:Object(p.jsx)(y.b,{to:"/profile",style:{textDecoration:"none",color:"inherit"},children:"Profile"})}),Object(p.jsx)(U.a,{onClick:r,children:Object(p.jsx)(y.b,{to:"/new-blog",style:{textDecoration:"none",color:"inherit"},children:"New"})}),Object(p.jsx)(U.a,{onClick:r,children:Object(p.jsx)(y.b,{to:"",onClick:function(){return j.a.auth().signOut(),void h("Sign out successfully")},style:{textDecoration:"none",color:"inherit"},children:"Logout"})})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(U.a,{onClick:r,children:Object(p.jsx)(y.b,{to:"/login",style:{textDecoration:"none",color:"inherit"},onClick:function(){return c.push("/login")},children:"Login"})}),Object(p.jsx)(U.a,{onClick:r,children:Object(p.jsx)(y.b,{to:"/register",onClick:function(){return c.push("/register")},style:{textDecoration:"none",color:"inherit"},children:"Register"})})]})})]})})})}var I=n(204),z=n(211),G=n(221),R=n(205),_=n(222),q=n(71),H=n.n(q),M=Object(I.a)((function(e){return{wrapper:{marginTop:"3rem",height:"calc(100vh - 19.0625rem)",textAlign:"center",marginBottom:"12rem",width:"30rem"},avatar:{margin:"1rem auto"},signUp:{margin:"1rem"},login:{textDecoration:"none",fontWeight:"600",paddingLeft:"0.5rem"},googleImg:{width:75,marginLeft:10}}}));var J=function(){var e=M(),t=Object(C.f)(),n=Object(a.useState)(""),i=Object(o.a)(n,2),r=i[0],c=i[1],l=Object(a.useState)(""),s=Object(o.a)(l,2),d=s[0],u=s[1];return Object(p.jsx)(z.a,{children:Object(p.jsxs)(G.a,{elevation:20,sx:{padding:"30px 20px",width:300,margin:"20px auto"},children:[Object(p.jsxs)(z.a,{align:"center",children:[Object(p.jsx)(N.a,{className:e.avatar,sx:{backgroundColor:"#1bbd7e"},children:Object(p.jsx)(H.a,{})}),Object(p.jsx)(D.a,{className:e.signUp,variant:"h4",children:"Login"})]}),Object(p.jsxs)("form",{id:"login",onSubmit:function(){var e={email:r,password:d};!function(e,t){j.a.auth().signInWithEmailAndPassword(e,t).then((function(e){h("Logged in successfully")})).catch((function(e){b("The password is invalid or the user does not have a password!")}))}(e.email,e.password),t.push("/")},children:[Object(p.jsx)(R.a,{sx:{mb:2},name:"email",label:"Email",variant:"outlined",fullWidth:!0,onChange:function(e){return c(e.target.value)},required:!0}),Object(p.jsx)(R.a,{sx:{mb:2},name:"password",label:"Password",variant:"outlined",type:"password",fullWidth:!0,onChange:function(e){return u(e.target.value)},required:!0}),Object(p.jsx)(_.a,{sx:{mb:2},type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Login"}),Object(p.jsx)(_.a,{sx:{mb:2},type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:Object(p.jsx)(y.b,{to:"/register",style:{textDecoration:"none",color:"white"},children:"or Register"})}),Object(p.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,onClick:function(){!function(){var e=new j.a.auth.GoogleAuthProvider;e.setCustomParameters({prompt:"select_account"}),j.a.auth().signInWithPopup(e)}(),t.push("/")},children:"with Google"})]})]})})},V=Object(I.a)((function(e){return{wrapper:{marginTop:"3rem",height:"calc(100vh - 19.0625rem)",textAlign:"center",marginBottom:"12rem",width:"30rem"},avatar:{margin:"1rem auto"},signUp:{margin:"1rem"},login:{textDecoration:"none",fontWeight:"600",paddingLeft:"0.5rem"},googleImg:{width:75,marginLeft:10}}}));var K=function(){var e=V(),t=Object(C.f)(),n=Object(a.useState)(""),i=Object(o.a)(n,2),r=i[0],c=i[1],l=Object(a.useState)(""),s=Object(o.a)(l,2),d=s[0],j=s[1],u=Object(a.useState)(""),h=Object(o.a)(u,2),b=h[0],x=h[1],O=Object(a.useState)(""),g=Object(o.a)(O,2),v=g[0],f=g[1];return Object(p.jsx)(z.a,{children:Object(p.jsxs)(G.a,{elevation:20,sx:{padding:"30px 20px",width:300,margin:"20px auto"},children:[Object(p.jsxs)(z.a,{align:"center",children:[Object(p.jsx)(N.a,{className:e.avatar,sx:{backgroundColor:"#1bbd7e"},children:Object(p.jsx)(H.a,{})}),Object(p.jsx)(D.a,{className:e.signUp,variant:"h4",children:"Register"})]}),Object(p.jsxs)("form",{id:"register",onSubmit:function(){var e={firstName:r,lastName:d,email:b,password:v},n="".concat(r," ").concat(d);m(e.email,e.password,n),t.push("/")},children:[Object(p.jsx)(R.a,{sx:{mb:2},name:"firstname",label:"Firstname",variant:"outlined",fullWidth:!0,onChange:function(e){return c(e.target.value)}}),Object(p.jsx)(R.a,{sx:{mb:2},name:"lastname",label:"Lastname",variant:"outlined",fullWidth:!0,onChange:function(e){return j(e.target.value)}}),Object(p.jsx)(R.a,{sx:{mb:2},name:"email",label:"Email",variant:"outlined",fullWidth:!0,onChange:function(e){return x(e.target.value)}}),Object(p.jsx)(R.a,{sx:{mb:2},name:"password",label:"Password",variant:"outlined",type:"password",fullWidth:!0,onChange:function(e){return f(e.target.value)}}),Object(p.jsx)(_.a,{sx:{mb:2},type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Register"})]})]})})},Q=n(217),X=n(218),Y=n(219),Z=n(220),$=n(73),ee=n.n($),te=n(74),ne=n.n(te),ae=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(!1),c=Object(o.a)(r,2),l=c[0],s=c[1];return Object(a.useEffect)((function(){s(!0),O.database().ref("card").on("value",(function(e){var t=e.val(),n=[];for(var a in t)n.push(Object(w.a)({id:a},t[a]));i(n),s(!1)}))}),[]),{cardList:n,isLoading:l}},ie=n(72),re=n.n(ie);function ce(){var e=a.useContext(v).currentUser,t=ae(),n=t.cardList,i=t.isLoading;console.log("cardList",n);var r=a.useState(null),c=Object(o.a)(r,2),l=c[0],s=c[1];return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(D.a,{noWrap:!0,align:"center",variant:"h3",component:"h2",children:"--------------DASHBOARD--------------"}),i?Object(p.jsx)(D.a,{variant:"body1",children:"loading"}):0===(null===n||void 0===n?void 0:n.length)?Object(p.jsx)(D.a,{variant:"body1",children:"Nothing found"}):Object(p.jsx)(k.a,{sx:{flexGrow:1},children:Object(p.jsx)(z.a,{container:!0,spacing:2,sx:{width:"100%",m:3},children:null===n||void 0===n?void 0:n.map((function(t){return Object(p.jsx)(z.a,{item:!0,xs:4,children:Object(p.jsxs)(Q.a,{sx:{maxWidth:400},children:[Object(p.jsxs)(y.b,{to:e?"detail/".concat(null===t||void 0===t?void 0:t.id):"/login",style:{textDecoration:"none",color:"inherit"},onClick:function(){return e?null:b("Please Login!")},children:[Object(p.jsx)(X.a,{component:"img",height:"194",src:null===t||void 0===t?void 0:t.image,alt:null===t||void 0===t?void 0:t.title}),Object(p.jsxs)(Y.a,{sx:{height:200},children:[Object(p.jsx)(D.a,{gutterBottom:!0,variant:"h4",component:"div",children:null===t||void 0===t?void 0:t.title}),(new Date).toLocaleDateString(),Object(p.jsx)(D.a,{variant:"body1",children:null===t||void 0===t?void 0:t.content})]})]}),Object(p.jsx)(Z.a,{height:"%100",disableSpacing:!0,children:Object(p.jsxs)(W.a,{size:"small",children:[Object(p.jsx)(re.a,{}),null===t||void 0===t?void 0:t.email]})}),Object(p.jsxs)(Z.a,{disableSpacing:!0,children:[Object(p.jsx)(W.a,{"aria-label":"add to favorites",children:Object(p.jsx)(ee.a,{onClick:function(){return s(!l)},sx:l?{color:"red"}:{color:"inherit"}})}),Object(p.jsx)(W.a,{"aria-label":"comment",children:Object(p.jsx)(ne.a,{})})]})]},null===t||void 0===t?void 0:t.id)})}))})})]})}var oe=n(109),le=n.n(oe),se=n(108),de=n.n(se);function je(e){var t=e.updateFormHandler,n=a.useContext(v).currentUser,i=Object(C.f)(),r=ae().cardList,c=Object(C.g)().id,l=a.useState(null),s=Object(o.a)(l,2),d=s[0],j=s[1];var u=null===r||void 0===r?void 0:r.filter((function(e){if((null===e||void 0===e?void 0:e.id)===c)return!0}))[0];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(D.a,{noWrap:!0,align:"center",variant:"h3",component:"h2",children:"--------------DETA\u0130L--------------"}),Object(p.jsxs)(Q.a,{height:"100%",sx:{maxWidth:"80%",textAlign:"center",justifyContent:"center",m:"10%",mt:0},children:[Object(p.jsx)(X.a,{component:"img",height:"%50",src:null===u||void 0===u?void 0:u.image,alt:null===u||void 0===u?void 0:u.title}),Object(p.jsx)(D.a,{gutterBottom:!0,variant:"h4",component:"div",children:null===u||void 0===u?void 0:u.title}),Object(p.jsxs)(Y.a,{height:"%100",children:[(new Date).toLocaleDateString(),Object(p.jsx)(D.a,{variant:"body1",children:null===u||void 0===u?void 0:u.content})]}),Object(p.jsx)(Z.a,{height:"%100",disableSpacing:!0,children:Object(p.jsxs)(W.a,{size:"small",children:[Object(p.jsx)(re.a,{}),null===u||void 0===u?void 0:u.email]})}),Object(p.jsxs)(Z.a,{height:"%100",disableSpacing:!0,children:[Object(p.jsx)(W.a,{"aria-label":"add to favorites",children:Object(p.jsx)(ee.a,{onClick:function(){return j(!d)},sx:d?{color:"red"}:{color:"inherit"}})}),Object(p.jsx)(W.a,{"aria-label":"comment",children:Object(p.jsx)(ne.a,{})})]}),(null===n||void 0===n?void 0:n.email)===(null===u||void 0===u?void 0:u.email)?Object(p.jsxs)(F.a,{direction:"row",spacing:5,justifyContent:"center",children:[Object(p.jsx)(B.a,{sx:{width:"30%"},label:"Update",color:"primary",icon:Object(p.jsx)(de.a,{}),onClick:function(){i.push("/new-blog"),t(u)}}),Object(p.jsx)(B.a,{sx:{width:"30%"},label:"Delete",color:"error",icon:Object(p.jsx)(le.a,{}),onClick:function(){!function(e){O.database().ref("card").child(e).remove(),h("Deleted Succesfully")}(null===u||void 0===u?void 0:u.id),i.push("/")}})]}):null]})]})}function ue(){var e=a.useContext(v).currentUser;return Object(p.jsxs)(Q.a,{sx:{width:"50%",textAlign:"center",mt:15,ml:"25%"},fullWidth:!0,children:[Object(p.jsxs)(Y.a,{children:["Display Name",Object(p.jsx)(D.a,{variant:"body1",color:"text.secondary",children:null===e||void 0===e?void 0:e.displayName})]}),Object(p.jsxs)(Y.a,{children:["Email",Object(p.jsx)(D.a,{variant:"body1",color:"text.secondary",children:null===e||void 0===e?void 0:e.email})]})]})}var he=n(5),be=n(49);var xe=function(e){var t=e.info,n=e.setInfo,i=e.handleFormSubmit,r=a.useContext(v).currentUser,c=Object(C.f)(),o=function(e){var a,i=e.target,c=i.name,o=i.value;n(Object(w.a)(Object(w.a)({},t),{},(a={},Object(he.a)(a,"email",null===r||void 0===r?void 0:r.email),Object(he.a)(a,c,o),a)))};return Object(p.jsx)(k.a,{component:"form",sx:{"& .MuiTextField-root":{m:2,width:"60ch"}},noValidate:!0,autoComplete:"off",children:Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(F.a,{mt:3,direction:"row",justifyContent:"center",alignItems:"center",spacing:2,children:Object(p.jsx)(N.a,{sx:{width:300,height:300,bgcolor:be.a[500],textAlign:"center"},alt:"blog",src:"https://eds-fireblog.herokuapp.com/static/media/blok.7e6674a5.png"})}),Object(p.jsx)(D.a,{variant:"h5",mt:3,mb:2,children:"-----NEW BLOG-----"}),Object(p.jsxs)("form",{children:[Object(p.jsx)("div",{children:Object(p.jsx)(R.a,{value:t.title,name:"title",onChange:o,id:"outlined-helperText",label:"Title",required:!0})}),Object(p.jsx)("div",{children:Object(p.jsx)(R.a,{value:t.image,onChange:o,name:"image",id:"outlined-helperText",label:"Image URL",required:!0})}),Object(p.jsx)("div",{children:Object(p.jsx)(R.a,{value:t.content,onChange:o,name:"content",id:"outlined-helperText",label:"Content",required:!0,multiline:!0,rows:12})}),Object(p.jsx)("div",{children:Object(p.jsx)(_.a,{sx:{width:"75ch",m:2},type:"button",variant:"contained",color:"primary",onClick:function(){c.push("/"),i()},children:(null===t||void 0===t?void 0:t.id)?"UPDATE":"SUBMIT"})})]})]})})},Oe={title:"",image:"",content:"",email:""};var me=function(){var e=Object(a.useState)(Oe),t=Object(o.a)(e,2),n=t[0],i=t[1];return Object(p.jsxs)(y.a,{children:[Object(p.jsx)(E,{}),Object(p.jsxs)(C.c,{children:[Object(p.jsx)(C.a,{exact:!0,path:"/",children:Object(p.jsx)(ce,{})}),Object(p.jsx)(C.a,{exact:!0,path:"/login",children:Object(p.jsx)(J,{})}),Object(p.jsx)(C.a,{exact:!0,path:"/register",children:Object(p.jsx)(K,{})}),Object(p.jsx)(C.a,{exact:!0,path:"/detail/:id",children:Object(p.jsx)(je,{updateFormHandler:function(e){i(Object(w.a)({},e))}})}),Object(p.jsx)(C.a,{exact:!0,path:"/profile",children:Object(p.jsx)(ue,{})}),Object(p.jsx)(C.a,{exact:!0,path:"/new-blog",children:Object(p.jsx)(xe,{info:n,setInfo:i,handleFormSubmit:function(e){console.log(n),(null===n||void 0===n?void 0:n.id)?function(e){O.database().ref("card").child(e.id).update(e),h("Updated Succesfully")}(n):function(e){O.database().ref("card").push(e)}(n),i(Oe)}})})]}),Object(p.jsx)(u.a,{})]})};var ge=function(){return Object(p.jsx)(f,{children:Object(p.jsx)(me,{})})},pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,223)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};c.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(ge,{})}),document.getElementById("root")),pe()}},[[146,1,2]]]);
//# sourceMappingURL=main.0be77856.chunk.js.map